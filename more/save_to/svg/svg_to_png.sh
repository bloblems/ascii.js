#!/usr/bin/env bash
############################### BY GIBBONJOYEUX ################################

################################################################################
### FUNCTIONS
################################################################################

################################################################################
### MAIN
################################################################################

SRC=${1}
WIDTH=${2}
HEIGHT=${3}
OUTPUT=${4}

### FILE MODE
if [[ -f ${SRC} ]]; then
	inkscape -z -w ${WIDTH} -h ${HEIGHT} ${SRC} -e ${OUTPUT}
elif [[ -d ${SRC} ]]; then
	if [[ ! -f ${OUTPUT} ]]; then
		mkdir ${OUTPUT}
	fi
	i=0
	for file in ${SRC}/*; do
		inkscape -z -w ${WIDTH} -h ${HEIGHT} ${file} -e ${OUTPUT}/${i}.png
		((++i))
	done
fi
